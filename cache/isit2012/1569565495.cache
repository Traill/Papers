{"id":"1569565495","paper":{"title":{"text":"Wireless Downloading Delay under Proportional Fair Scheduling with Coupled Service and Requests: An Approximated Analysis"},"authors":[{"name":"Karthikeyan Shanmugam"},{"name":"Giuseppe Caire"}],"abstr":{"text":"Abstract\u2014We propose a method for approximating the down- loading delay for the downlink of a cellular system reminiscent of LTE (based on OFDMA), where users are randomly distributed in a cell, and the channel gain is formed by a distance dependent component (path loss), constant in time and frequency, and a time-frequency selective small-scale fading component, i.i.d. across the OFDMA resource allocation blocks. The proposed method yields an approximation of the user downloading delay cdf, through the solution of a system of ﬁxed-point equations. It provides accurate results when the trafﬁc demand is large. 1"},"body":{"text":"The latest 3GPP standards (LTE), make use of OFDMA (Orthogonal Frequency Division Multiple Access) and sched- ule the users on the time-frequency resource allocation blocks according to Proportional Fairness Scheduling (PFS) [1]. An- alyzing PFS under a realistic system model is important to understand user level performance of such systems. Recent research effort has been largely directed towards obtaining ap- proximate throughput closed form expressions and asymptotic properties characterization of PFS in a block-fading broadcast channel (downlink) in the inﬁnite backlog case [2]\u2013[6], i.e., when the base station (BS) has an inﬁnite repository of data to send to each of the K users in the cell. To our knowledge, closed form solutions for the throughput has not been found except for the case of where the user rate is R(snr) = αsnr (linear rate model). In [5], [6] an approximate closed form expression for the user throughput for the inﬁnite backlog case with rates obeying Shannon rate formula R(snr) = log(1+snr) is provided. A different approach is taken in [7], focusing on the case of random users\u2019 requests. In [7] it is assumed that users belong to distance classes (set of users at a speciﬁc distance from the base station) and generate trafﬁc according to Poisson arrival processes. Under the linear rate assumption, closed form expressions are obtained for the mean ﬁle transfer delay using analysis of the multiclass processor sharing model [8]. The log factor in the Shannon rate formula presents a difﬁculty of extending the multiclass processor sharing approach.\nThe trafﬁc pattern in today\u2019s cellular systems have also changed with respect to the traditional models of Poisson arrivals (data) or constant ﬁxed rate (voice). Mobile video is expected to play a more and more signiﬁcant role in the overall cellular downlink trafﬁc [9]. This type of trafﬁc is\ncharacterized by relatively rare requests of very large blocks of data (tens to hundreds of MBs). Furthermore, while down- loading a video ﬁle, a user does not start the download of a new one until the current request is satisﬁed. In order to mimic the typical behavior of mobile video users (think of a group of people watching YouTube videos), in this paper we assume that users have two states: idle or active. Idle users may make requests of data ﬁles independently with a certain probability p on each scheduling slot. If an idle user k makes a request at slot t k , it becomes active on slot t k + 1. The BS serves the active users with the PFS policy. Active users stay active until their requested ﬁles are completely downloaded, and cannot generate more requests while in the active state. With this model, the rate of the users requests depends on their downloading delay: users with large download delay will generate less frequent requests than users with small download delay. In turn, the download delay depends on the geometry of the system (users distances from the BS), given that the allocation of active users on the time-frequency slots is made according to PFS.\nThe main contribution of this paper consists of an approx- imate analysis of the mean ﬁle downloading delay of PFS under the above model of coupled service and requests, for time-frequency block-fading (modeling the OFDM channel) and distance-dependent path loss, and using the log(1 + snr) instantaneous rate function. Our analysis yields an approx- imation of the cumulative distribution function (cdf) of the mean downloading delay over the users\u2019 population, for a ﬁxed snapshot of the users\u2019 positions in the cell.\nWe consider a circular cell with the BS located at the center, corresponding to origin of the coordinate system. The cell contains K users, at ﬁxed positions u k ∈ R 2 . The wireless communication channel between the BS and any user is modeled as a Gaussian AWGN channel with time and frequency selective fading. The channel coefﬁcients are given as the product of two components: a frequency-ﬂat component g(u k ) that depends only on the distance r k = u k between the BS and the user (path loss), and a Rayleigh small-scale fading component H k,0 (t, f ) ∼ CN (0, 1), i.i.d. with respect to the user index k, the time-slot index t and the OFDM subcarrier index f .\nWe assume OFDM TDMA signaling closely inspired by LTE release 8 [1], and make the common and realistic assump-\ntion that the time and frequency selective small-scale fading is frequency-ﬂat on N f OFDM subcarriers (spanning the channel coherence bandwidth) and remains constant in time (spanning the coherence time) over a physical layer scheduling frame formed by a block of N t OFDM symbols. The smallest possi- ble resource allocation block consists of a tile of T = N f ×N t OFDM symbols in the time-frequency plane. We indicate by F the number of such resource allocation blocks available at any scheduling slot. The delay is expressed as the number of scheduling slots (consisting of N t OFDM symbols along time) between the slot when a request is made, and the slot when the ﬁle is completely downloaded.\nThe received signal at user k, located at u k , over time- frequency resource allocation block (t, f ), with t = 0, 1, 2, . . . and f ∈ {1, . . . , F }, is given by\nwhere x 0 (t, f ) ∈ C T , y k (t, f ) ∈ C T and z k (t, f ) ∈ C T denote the transmit and receive signal vectors and the noise vector, with z k (t, f ) ∼ CN (0, I), independent across time and frequency. We normalize the transmit power as\ntr( E [x 0 (t, f )x H 0 (t, f )]) = 1, yielding the SNR at the receiver (averaged over the small-scale fading) equal to g(u k , 0). The rate supported by user k on block (t, f ) is given by the Shannon capacity formula:\nWith reference to the coupled requests model described in Section I, we have that users stay in the idle state for a random number of slots, geometrically distributed with mean value ¯ T idle = 1/p. Let K on (t) denote the set of active users at time t. Let |K on (t)| = K on (t). At each slot time, active users are scheduled by the BS on the F resource blocks made of T OFDM symbols. A downlink scheduling policy under OFDMA is a rule that allocates, at each time t, the F available blocks to the K on (t) active users. When a user completes its ﬁle download and becomes idle, it is eliminated from the scheduling policy. Instead, when a user transits from the idle to the active state, it is included in the scheduling policy.\nLet F k (t) denote the set of resource allocation blocks given to user k at time t according to some scheduling policy. Then, the aggregate instantaneous number of downloaded information bits for user k at time t is given by\nThe delay of user k, conditioned by the event that user k makes a request at time t k , is given by the conditional stopping time:\n(4) where, for simplicity, all requested ﬁles are assumed to have the same size equal to B bits (our analysis can be extended to arbitrary ﬁle size distributions with ﬁnite mean [10]).\nWe review here the widely used PFS policy, which sched- ules the users such that they operate at the PFS point of the system ergodic rate region, deﬁned as the solution of the convex optimization problem:\nwhere R is the ergodic rate region of the OFDMA system deﬁned above, and ¯ R = ( ¯ R 1 , . . . , ¯ R K ) denotes the vector of long-term average (i.e., ergodic) user rates.\nIn a system without user dynamics (i.e., where all K on = K users are active and have inﬁnite backlog), the Lyapunov drift analysis ( [11], [12]) under the stochastic network optimization framework proves that the policy described below, which uses virtual queues and maxweight scheduling, yields instantaneous rates B k (t)/T such that the achieved long-term average rates,\n1 tT\nsatisfy U ( ¯ R) ≥ U ( ¯ R k ) − O(1/V ), where ¯ R is the solution of (5), provided that ¯ R ∈ [0, A max ] K and where V and A max are algorithm control parameters.\nMaxweight scheduling: Let k(t, f ) denote the allocation of users to the resource blocks (t, f ) maximizing the weighted rate sum\nand let B k (t) denote the corresponding number of downloaded bits (see (3)).\nVirtual queues weight update: The weights Q k (t) are updated according to:\nwhere the virtual arrival vector (A 1 (t), . . . , A K (t)) is a solu- tion to:\nFollowing [13], we approximate PFS by the more tractable genie-aided scheduling policy referred to here as BFS and deﬁned as follows:\nBest Fade Scheduling: At each slot time t, for each frequency slot f , choose the user k(t, f ) that maximizes\nNotice that BFS is genie-aided since its assumes that the BS knows the small-scale fading coefﬁcients magnitudes, while in practice any user is able only to measure and feed back its instantaneous receiver SNR given by g(u k , 0)|H k (t, f )| 2 , i.e., it is not able to distinguish between the contribution of the path\nloss and that of the (normalized) Rayleigh fading component. When the coefﬁcients |H k (t, f )| 2 are i.i.d. across users, time and frequency, as in our system model, it follows that each user is given on average the same number of dimensions per slot, as in round-robin scheduling. However, BFS is able to recover the multiuser diversity gain since, on each subcarrier f , the user with the largest fading coefﬁcient is scheduled at each slot t. BFS is known to closely approximate the performance of PFS when the number of users K is large.\nIn our system, both PFS and BFS are applied to the set of active users K on (t) only, i.e., the maxweight user selection (6) or best fade user selection (9) are restricted to K on (t). In this work, we shall use BFS as a proxy for PFS, since it is known that the performance of BFS is close to that of PFS when K on (t) is large [13].\nRemark. PFS is more commonly implemented as described in [2], where users are selected such that the ratio of instanta- neous rate over their long-term average is maximized. It has been shown that this alternative approach achieves the PFS point in the ergodic rate region (deﬁned by (5)). \t ♦\nWe provide an approximated analysis technique for the downloading delay cdf under the BFS policy deﬁned before. Rounding B k (t) to integers, the system evolves according to a Markov Chain (MC) with state given by S(t) = (S 1 (t), . . . , S K (t)), where S k (t) is the number of bits yet to be transmitted at slot time t in the transmit queue of user k. The state space is ﬁnite, and given by the integer K-dimensional grid S = {0, 1, . . . , B} K . The MC is indecomposable and non-periodic and therefore is ergodic with a well-deﬁned stationary distribution. Let S k denote all states with the k-th component equal to zero, i.e., in which user k is idle. Then, the download delay of user k can be deﬁned as the time between two successive visits to the set S k .\nSince B and K are large (in practice, we are interested in cells with hundreds of users and ﬁles sizes of tens of MBs), determining the MC stationary distribution and, consequently, the delay distribution is essentially infeasible. However, we note that for BFS, under inﬁnite backlog, determining the average throughput is very simple [13]. Here, the difﬁculty is introduced by the fact that users are dynamically active or idle depending on their requests and their service times are mutually dependent.\nIn order to make progress, we resort to some approximation. Assuming that the system evolves according to the MC deﬁned before, we notice that the probability that user k is active is given by\nwhere the left-hand side of (10) is calculated with respect to the MC stationary distribution and where 1{A} is the indicator for event A. All users have the same geometric distribution of idle times, but their active times are distributed in a different way due to the fact that users have different path losses. Notice\nthat the duration of the active times corresponds exactly to the delay deﬁned in (4).\nSince the random variables max k =1,...,K |H k ,0 (t, f )| 2 are i.i.d. with respect to the indices (t, f ), we indi- cate by χ K a random variable identically distributed as max k =1,...,K |H k ,0 (t, f )| 2 , for any (t, f ).\nwhere the mean downloading delay is denoted by ¯ D k and ¯ B k indicates the average number of transmitted bits when user k is active. The detailed derivation of approximation (12), and of (14) and (15) are omitted due to space limitations, and are provided in [10].\nFor analysis purposes, we assume that users are grouped into L distance classes, such that cluster has size K and users in cluster have the same distance from the BS, i.e., they have the same path loss, denoted by g . The system is completely symmetric with respect to two users in the same distance class. We denote by ¯ D , the mean delay of a user in class . The overall \u201cUser Delay CDF\u201d is given by the staircase function\nHence, the problem reduces to determining a good approxi- mation of the mean delay ¯ D for the users in class , for a given set of path losses {g 1 , . . . , g L }. This formulation is valid even without clustering, taking into account individual users at different distances. However, distance quantization into classes is useful in order to limit the number of values ¯ D to be determined.\nAgain by stationarity and ergodicity, we have that for a given user k in class\ndenote the inner conditional expectation. Given K on (t), this is easily computed in closed form in terms of the Ei(x) =\nand can be found in [10]). Then, computing ¯ B k reduces to evaluating the outer expectation with respect to the random variable K on (t), conditionally on {S k (t) > 0} (i.e., user k active).\nCharacterizing the stationary conditional distribution of K on (t) given {S k (t) > 0}, appears to be very difﬁcult if not impossible. However, when K is large, B is large and p is not too small, we may assume that K on (t) has little ﬂuctuations around its mean, corresponding to transitions of individual users between the active and the idle state, and that the dependency on a particular user k being active is mild. Therefore, we resort to the following two options:\n1) Binomial Approximation: We ignore the dependence between the event {S k (t) > 0} and the other users activity and let K on (t) be conditionally distributed given {S k (t) > 0} as the sum 1 + K\nthe X i (q)\u2019s denote independent Bernoulli variables with P (X i (q) = 1) = q.\n2) Poisson Approximation: We use the known fact that the sum of mildly dependent Bernoulli variables can be approximated by a Poisson random variable (Stein-Chen approximation [14]) and let K on (t) be conditionally\nwhere Poi(λ) represents a Poisson random variable with mean λ.\nCombining (15), (12) and the binomial approximation, we obtain the following system of ﬁxed point equations in the variables ¯ D :\nThe second equation, above, is changed appropriately if the Poisson approximation is used in place of the binomial ap- proximation. During numerical evaluation, the ﬁxed point is initialized with delay D = 1000 slots for all (approximately corresponds to the case when downloaded bits per slot is calculated assuming spectral efﬁciency of 2 bits/symbol at the BS).\nIt is also possible to obtain an approximate delay cdf for the individual ﬁles requested in stationary conditions. The arrival rate of requests for user belonging to distance class\nis 1 ¯ D +1/p . Therefore the fraction of ﬁles with average delay ¯ D is K\nK ˜ K\nK 1 ¯ D +1/p (total trafﬁc offered). Notice that with our model we have that users enjoying a lower down- loading delay make more requests per unit time than users with larger downloading delays. This feature distinguishes our model that differs from the independent Poisson arrivals.\nThrough simulations with different request probability p, we compare the average download delays experienced by the users under the BFS policy (simulation), the actual PFS policy (simulation), and the proposed approximated analysis obtained from the system of ﬁxed-point equations with binomial and Poisson approximations developed in this work. The plots labeled \u2019File Delay\u2019 on the Y −axis show F f l D (·) while the plots with label \u2019User Delay\u2019 show F D (·).\nThe OFDM parameters used in the simulations are inspired by 3GPP LTE release 8 [1] and are give in Table I. The cell radius is 400m and the number of users in the cell is 300. For the actual system simulations, the users are randomly uniformly distributed in the cell. Therefore, the distance quantization corresponding to the L classes is made for simplifying the computation of the ﬁxed point equations solution, and introduces another source of approximation. The coherence time is equal to 0.1s reﬂecting a low mobility scenario. Simulations are done for demand probability p= 0.0001, 0.0002, 0.00027, 0.0003 and 0.0004 corresponding to average idle times of approximately 17, 8, 6, 5 and 4 minutes respectively. The ﬁle size is B = 30 MB (a typical YouTube short video which lasts about 4 min). The simulations of the actual systems are performed over 150000 slots. Implementa- tion of the approximation assumes L = 20 clusters with cluster distances r equally spaced from 20m to 400m with 20m increments. Then the number of users in class is calculated by counting users from the actual random position generation falling in the corresponding annular region between r and\nPlots of \u201cFile Delay CDF\u201d for demand probabilities 0.0004 and 0.0001/slot are shown in Fig. (1a-1b). A plot for \u201cUser delay CDF\u201d for the demand probability 0.00027/slot is shown in Fig. (1c). Plots for other cases have not been included due to space constraints but are available in [10]. Except in the case of very low trafﬁc (p = 0.0001), the proposed approximation, the BFS simulation and the PFS simulation yield very similar results. For the low trafﬁc case, PFS deviates from BFS and the approximation is not good for both scheduling policies. We ﬁnd that binomial and Poisson approximations essentially coincide. In the ﬁxed point iteration (given by (16)), the approximate way of calculating the conditional distribution of K on (t) given {S k (t) > 0} by decoupling all active users or by Poisson approximation appears to be valid only when the number of active users is large, since in this regime any user is like a \u201cdrop in the ocean\u201d and the system approximately decouples, i.e., the active states of different users have a weak statistical dependence between them.\nFig. 1: Comparsion of the baseline system under the BFS, PFS and the approximate numerical scheme with binomial and possion approximations\nThere are several sources of approximation in our analysis: replacing PFS with BFS, quantizing distances, and neglecting the (weak) statistical dependence between users activity. Nev- ertheless, in the regime of high trafﬁc demand, we are able to accurately approximate the downloading delay cdf. This may have an interesting practical application: by knowing the downloading delay of a user as a function of the users positions in the cell, the system can determine the size of the pre- buffering necessary to achieve low stall probability in a video streaming application. In short, the system will make sure to pre-buffer enough data such that, when the playback starts, the downloading delay of the remaining part of the video ﬁle is less than ¯ D by some margin. This ensures that, despite the playback buffer having a negative drift (playback rate is larger than the data arrival rate in the buffer), the video playback will be completed before the buffer is empty with sufﬁciently high probability."},"refs":[{"authors":[{"name":"H. Kushner"},{"name":"P. Whiting"}],"title":{"text":"Convergence of proportional-fair sharing algorithms under general conditions"}},{"authors":[{"name":"D. Avidor"},{"name":"S. Mukherjee"},{"name":"J. Ling"},{"name":"C. Papadias"}],"title":{"text":"On some prop- erties of the proportional fair scheduling policy"}},{"authors":[{"name":"J. Choi"},{"name":"S. Bahk"}],"title":{"text":"Cell-throughput analysis of the proportional fair scheduler in the single-cell environment"}},{"authors":[{"name":"E. Liu"},{"name":"K. Leung"}],"title":{"text":"Proportional fair scheduling: analytical insight under rayleigh fading environment"}},{"authors":[{"name":"E. Liu"},{"name":"Q. Zhang"},{"name":"K. Leung"}],"title":{"text":"Asymptotic analysis of proportionally fair scheduling in rayleigh fading"}},{"authors":[{"name":"S. Borst"}],"title":{"text":"User-level performance of channel-aware scheduling algo- rithms in wireless data networks"}},{"authors":[{"name":"F. Kell"}],"title":{"text":"Reversibility and stochastic networks"}},{"authors":[],"title":{"text":""}},{"authors":[{"name":"K. Shanmugam"},{"name":"G. Caire"}],"title":{"text":"Wireless downloading delay under proportional fair scheduling with coupled service and requests: An approximated analysis"}},{"authors":[{"name":"L. Georgiadi"},{"name":"M. Neel"},{"name":"M. Neel"},{"name":"L. Tassiula"}],"title":{"text":"Resource allocation and cross-layer control in wireless networks "}},{"authors":[{"name":"M. Neely"}],"title":{"text":"Stochastic Network Optimization with Application to Com- munication and Queueing Systems"}},{"authors":[{"name":"G. Caire"},{"name":"R. Muller"},{"name":"R. Knopp"}],"title":{"text":"Hard fairness versus proportional fairness in wireless communications: The single-cell case"}},{"authors":[{"name":"G. Grimmet"},{"name":"D. Stirzake"}],"title":{"text":"Probability and Random Processes"}}]},"file":{"jsonClass":"File","file":"/home/arnfred/Code/trailhead/resources/isit2012/1569565495.pdf"},"links":[{"id":"1569559665","weight":4},{"id":"1569565691","weight":4},{"id":"1569566683","weight":4},{"id":"1569566697","weight":4},{"id":"1569566761","weight":4},{"id":"1569562685","weight":4},{"id":"1569566157","weight":4},{"id":"1569566795","weight":4},{"id":"1569566749","weight":4},{"id":"1569564311","weight":4},{"id":"1569566759","weight":4},{"id":"1569566149","weight":4},{"id":"1569565213","weight":4},{"id":"1569566687","weight":4},{"id":"1569566513","weight":4},{"id":"1569562821","weight":4},{"id":"1569566649","weight":8},{"id":"1569565469","weight":4},{"id":"1569566505","weight":4},{"id":"1569565739","weight":4},{"id":"1569566857","weight":4},{"id":"1569566949","weight":4},{"id":"1569566383","weight":4},{"id":"1569566929","weight":4},{"id":"1569565611","weight":4},{"id":"1569566983","weight":4},{"id":"1569565397","weight":4},{"id":"1569566651","weight":8},{"id":"1569565013","weight":4},{"id":"1569565829","weight":4},{"id":"1569565375","weight":8},{"id":"1569560235","weight":4},{"id":"1569565769","weight":4},{"id":"1569565561","weight":4},{"id":"1569566847","weight":4},{"id":"1569567013","weight":4},{"id":"1569566583","weight":4},{"id":"1569566067","weight":4}],"meta":{"jsonClass":"HashMap$HashTrieMap","sessionid":"S16.T4.2","endtime":"12:10","authors":"Karthikeyan Shanmugam, Giuseppe Caire","date":"1341575400000","papertitle":"Wireless Downloading Delay under Proportional Fair Scheduling with Coupled Service and Requests: An Approximated Analysis","starttime":"11:50","session":"S16.T4: Delay and Deadline Constrained Communication","room":"Stratton 20 Chimneys (306)","paperid":"1569565495"},"cluster":{"jsonClass":"Map$EmptyMap$"}}
