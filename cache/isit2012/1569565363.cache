{"id":"1569565363","paper":{"title":{"text":"On Optimal Online Policies in Energy Harvesting Systems For Compound Poisson Energy Arrivals"},"authors":[{"name":"Patrick Mitran"}],"abstr":{"text":"Abstract\u2014 We consider the problem of optimal transmission power for a continuous-time energy harvesting system where energy arrivals occur at random times in random amounts. We do not assume that the energy arrivals are known non-causally and consider the online setting. Here, there is a tradeoff between increasing instantaneous transmission power, which increases instantaneous transmission rate and can reduce battery overﬂow, and decreasing transmission power, which increases battery life and energy efﬁciency.\nWe formulate the problem as that of maximizing the average transmission rate or throughput. We ﬁrst ﬁnd the non-linear relationship between the transmission power (which is a function of remaining battery energy) and the stationary distribution on the remaining battery energy. We then show that the resulting maximization problem is concave in the distribution of the remaining battery energy. This is non-trivial due to the non- linear relationship with the transmission power. We then use a calculus of variations approach to derive necessary conditions on the optimal transmission power. Speciﬁcally, we ﬁnd that it must satisfy a ﬁrst order non-linear autonomous ordinary differential equation (ODE) that has two degree of freedom for optimization purposes, one of which is the initial condition of the ODE. Solving the ODE numerically we compute achieved throughputs as a function of the battery capacity."},"body":{"text":"While traditional communication system design is con- cerned with power efﬁciency, it is usually in the context of reducing average transmitter power. Battery capacity and lifetime do not explicitly take an active role in the formulation other than for the broad observation that lesser transmission power results in a longer battery life. With the advance in renewable energy sources where the supply of energy is now no longer constant, but time varying, the interactions between battery capacity, energy arrivals, transmission power, and communications throughput must be explicitly considered. Solar energy, for example, can only harvest energy during the daytime, and even then, the supply of energy depends on weather conditions that cannot be reliably predicted.\nMotivated by this, there has been an increasing interest to include the effects of battery charge and energy arrival times explicitly into communication system models. Among the ﬁrst to consider energy explicitly in this sense is [11], where total transmission energy is minimized by reducing transmission rate subject to certain time constraints, and the optimal ofﬂine solution is found. More recent work can be found in [4], [5], [7]\u2013[9], [12]\u2013[16].\nIn [16] the problem is formulated in the ofﬂine and continuous-time setting where energy arrival instants and amounts are known non-causally, and energy is minimized subject to deadline constraints. In [4] optimal continuous- time policies for the ofﬂine problem when maximizing the\nthroughput within a deadline, as well as minimizing the trans- mission time for a given session are considered. Ofﬂine energy harvesting has been extended to multiple access channels [14], interference channels [9], broadcast channels [13], and battery imperfections [2].\nIn terms of online solutions, many works with optimal ofﬂine policies propose heuristics for the online problem based on ofﬂine solutions. In [4], an online approach is proposed using dynamic programming and quantizing time, although the curse of dimensionality results in an intractable problem. In [8] the online problem is considered in a discrete-time setting and while dynamic programing is used, some structural results on the optimal solution are proved. In [5], the online problem is also considered in a discrete-time setting where at each time instant a random amount of energy is harvested. Two approaches, save-and-transmit, and best-effort-transmit, are proposed that achieve the capacity of the channel for the harvesting model, but implicitly require that the battery have inﬁnite capacity. A similar discrete-time model but for fading channels is considered in [7], and also requires an inﬁnite capacity battery. In [12], the continuous-time online problem is considered to minimize the time taken to deliver a given amount of information.\nIn this paper, we consider the online problem in the continuous-time setting. We assume the transmitter always has data to send. Our objective is to determine the optimal transmission power as a function of remaining battery energy (referred to as transmission power policy) to maximize long- term average throughput. We initially consider batteries with both ﬁnite and inﬁnite capacity, although in the inﬁnite capac- ity case, we restrict ourselves to transmission power policies that do not result in the stored battery energy to diverge to inﬁnity, i.e., we consider stable policies only. Energy arrival times and amounts are unknown, though the distributions are assumed to be a Poisson point process and exponential distribution respectively. The optimization problem that results is found to be closely connected to a compound Poisson dam model [1]. Using results from compound Poisson dams we establish structural results. First, we establish concavity of the problem in the stationary distribution of the stored energy in the battery. This is non-trivial as the transmission power policy is related in a non-linear manner to the stationary distribution. Second, for batteries with ﬁnite capacity, using the calculus of variations, we establish a ﬁrst order non-linear autonomous ordinary differential equation for the optimal power control policy. This ODE has two degrees of freedom to be optimized (one is via its initial condition which must be strictly positive). The ODE can be solved numerically, and we thus compute achieved rates for various battery capacities. We conjecture that the optimal policy is in fact obtained by taking the limit as the initial condition goes to 0.\nNumerical result show that for a battery capacity large enough to absorb a few (say 5) average energy arrivals, the achieved rate is at least 88% compared to a transmitter whose transmission power is constant and equal to the average rate of energy harvesting, i.e., the cost of ﬁnite battery capacity is at most 12% in this case.\nThis paper is structured as follows. In Section II, the notation and storage model are provided. In Section III we provide the problem formulation, and show that it is in fact concave. In Section IV, we derive an ODE for the optimal transmission policy, and in Section V, consider numerical solutions. Finally, Section VI concludes this paper.\nWe assume that there is a non-negative rate function r(p) ≥ 0 deﬁned for p ≥ 0 and with r(0) = 0 that describes the instantaneous rate in bits/sec as a function of the instanta- neous transmission power p. Furthermore, the rate function is assumed to satisfy the following properties:\nFor example, the Shannon rate function r(p) = log(1 + p/σ 2 ) for any σ 2 > 0 satisﬁes these constraints. In addition, the choice r(p) = βp γ for any β > 0 and 0 < γ ≤ 1 satisﬁes these constraints ( γ = 1/3 has been found to be a good approximation for practically realizable rates according to [3]).\nGiven such a rate function r(p), we also have the following properties:\nLemma 1: A rate function that satisﬁes properties [R1] \u2013 [R3] also satisﬁes\n[R5] for u > 0 and any ﬁxed constant k > 0, u × r(k/u) is concave in u.\nProof: [R4] follows since it is clearly true for p = 0, and for p > 0 we have r (p) ≥ r (p) + pr (p) = d dp (pr (p)). [R5] follows since d 2 du 2 (u × r(k/u)) = r (k/u) × k 2 /u 3 ≤ 0.\nWe now describe the storage model, proceeding ﬁrst with the inﬁnite battery case. We consider a battery which at time t has Z(t) units of energy stored. Energy is consumed for transmission at a rate p(z) < ∞ with p(0) = 0, i.e., the transmission power is a function of the current state of the battery, and the transmission power is 0 when the battery is drained.\nEnergy is replenished into the battery according to energy arrivals U 1 , U 2 , . . ., which occur at random times T 1 < T 2 < . . .. The energy arrivals U i are assumed i.i.d. with P [U ≤ x] = B(x), and the number of energy arrivals up to time t, N (t), is assumed to be a homogeneous Poisson process of intensity δ. Then the total energy harvested until time t is\nWe further assume that p(z) > 0 for z > 0, since if not, then the battery always has a reserve of energy that can never be consumed. Following [1] we also assume sup 0<z<L p(z) < ∞ ∀L > 0.\nThis storage model is known as a compound Poisson dam, for which it is known that the process is either positive recur- rent, null recurrent, or transient in the sense that P [Z(t) → ∞] = 1 [1]. As the transient case is a poor model for battery storage, we restrict ourselves to the recurrent case.\nFor the positive recurrent case, it is known that there is always a stationary measure with the following properties [1]:\nTheorem 2: The process Z(t) is positive recurrent iff there is a probability measure π that is absolutely continuous on (0, ∞) and which may have an atom π 0 = π(0), i.e.,\n(1 − B(z − y))f (y)dy . (4)\nIn this paper, we are only concerned with the positive recurrent case as the others do not have physical signiﬁcance.\nFurthermore, we will consider the case that the energy arrivals U i follow an exponential distribution with mean 1/λ, i.e., B(x) = 1 − exp(−λx). In this case, (4) reduces to\nSince p(z) < ∞ then clearly the density component f (z) of π satisﬁes f (z) > 0 for all z > 0, and, given π, from (5) one can always then solve for p(z); z > 0. Furthermore, if f (z) is continuous on (0, ∞), then so is p(z).\nIn the case of a battery with ﬁnite storage capacity L, i.e., Z(t) ∈ [0, L] for some L > 0, if the arrival of an energy packet that replenishes the battery exceeds the capacity of the battery, then the excess energy is lost, i.e., the battery is ﬁlled to its capacity L. For such a case, it is known (see [1]) that i) the process Z(t) is always positive recurrent, ii) the stationary distribution π again may have an atom of measure π 0 at 0 and iii) π is absolutely continuous on (0, L) with density f satisfying (4) and thus (5). (Note that since p(L) > 0, there is no probability mass at z = L.)\nIn the sequel, L = ∞ in the inﬁnite battery capacity case and L < ∞ in the ﬁnite battery case.\nGiven parameter δ > 0 that characterizes the arrival times of the energy packets, and parameter λ characterizing the distri- bution B(.) of the size of the energy packets, we would like to determine good power transmission policies. Speciﬁcally, transmitting at power p(z) results in an instantaneous rate of r(p(z)). In this paper we wish to optimize the long term average rate, i.e., we wish to maximize\n1 T\nover all choices of transmission power policies p(z). Since Z(t) is positive recurrent, we have that\nwith probability 1. Hence, since r(0) = 0, the optimization thus reduces to\nf (u)du = 1 \t (10) f (u) ≥ 0, π 0 ≥ 0 \t (11)\nIn the following, we will ﬁrst show that i) the problem is concave over a convex set, and ii) determine the structure of optimal p(z) using the calculus of variations.\nThe problem given by (8)\u2013(11) is non-trivial in part as the relation between f (z) and p(z) given by (9) is non-linear. Nevertheless, we will show that the optimization is concave.\nf (z) = g(z)e − λz . \t (12) Then (5) simpliﬁes to\nand we have deﬁned G(z) := π 0 + z 0 g(u)du. Thus, under this change of variable, the power transmission policy p(z) can be solved explicitly in terms of g(z). In the case that L = ∞, and thus no harvested energy is lost to battery overﬂow, from (12), (13), and integrating by parts\ni.e., the average transmission power equals the average arrival rate of energy 1 . With the substitution (12) and (13), the problem (8)\u2013(11) reduces to\ne − λu g(u)du = 1 \t (16) g(u) ≥ 0, π 0 ≥ 0 \t (17)\nNow, let (g 1 (z), π 1 0 ) and (g 2 (z), π 2 0 ) be two choices of g(z) and π 0 that satisfy the constraints (16) \u2013 (17) with corresponding transmission power p 1 (z) and p 2 (z) accord- ing to (13). Then clearly, the convex combination g α (z) = αg 1 (z)+(1−α)g 2 (z) and π α 0 = απ 1 0 +(1−α)π 2 0 for 0 ≤ α ≤ 1 satisﬁes (16) \u2013 (17) as well, and thus the optimization is over a convex set. However, it is not necessary that the corresponding transmission power policy p α (z) = αp 1 (z) + (1 − α)p 2 (z),\nand thus, it is not clear if the objective function is concave. We show next that this is indeed the case.\nLemma 3: Let the objective function (14) evaluated for (g 1 (z), π 1 0 ), (g 2 (z), π 2 0 ) and the convex combination (g α (z), π α 0 ) be J 1 , J 2 and J α respectively. Then J α ≥ αJ 1 + (1 − α)J 2 , i.e., the objective function is concave.\nwhere in (a) we have used a variation of the log-sum inequality as proved in Lemma 5 in the Appendix with a 1 = αg 1 (z) exp(−λz), a 2 = (1 − α)g 2 (z) exp(−λz), b 1 = αG 1 (z) exp(−λz) and b 2 = (1 − α)G 2 (z) exp(−λz).\nSince the change of variables (12) is a linear mapping between f (z) and g(z), we also conclude that the original problem given by (8)\u2013(11) is also concave in (f (z), π 0 ).\nAssume now L < ∞. A necessary condition for a transmis- sion power policy to be a global optimal solution is to be a local optimal solution. Speciﬁcally, if (g(z), π 0 ) with π 0 > 0 and corresponding p(z) is a local maximum, then consider any h(z) continuous on [0, L] such that\nand sufﬁciently small > 0 such that the perturbation g (u) = g(u)+ h(u) satisﬁes the constraints (16) \u2013 (17) (with the same probability mass π 0 due to (23)). For small enough > 0 it must then be true that\nwhere p (z) is the power transmission policy corresponding to g (z) according to (13). Expanding terms to ﬁrst order in\nHence a necessary condition for g(z) to be a global maximum is thus\ndz = 0. (25)\ndz e − λz [r(p(z)) − r (p(z))p(z)] H(z)dz. (29) Since H(0) = 0 and H(L) = 0 by (22), a necessary condition for optimality of the transmission power policy p(z) is\nThe set of functions for which (30) is true has H(0) = H(L) = 0 and due to (23),\nor, equivalently, H(0) = H(L) = 0 and L 0 e − λu H(u)du = 0. Therefore, the term inside the square brackets of (30) must be some multiple of exp(−λz), say −K exp(−λz), (K may be a function of the constants δ, λ and L) and hence\nwhich is a ﬁrst order non-linear autonomous ODE for p(z). Although it is difﬁcult to say anything structurally about the solution without making further assumptions, the following result can be shown\nLemma 4: Any solution p(z) of the differential equation (33) for K ≥ 0 is non-decreasing in z for p(z) ≥ 0.\nWe claim the right hand side is non-negative. This is because i ) r (p) ≥ 0 for p ≥ 0, ii) r(p) − r (p)p ≥ 0 for p ≥ 0 by [R4], and iii) r (p) ≤ 0 for p > 0 as r is concave in p.\nRemark: One physical interpretation of K is that it can be used to control p (z)| z =0 + via (34), although the \u201ccost\u201d is to change the ODE itself (see (33)).\nWhile the above differential equation has no apparent ana- lytical solution in terms of r(p), we now consider a numerical solution.\nThe solution of (33) does not appear to have a closed form. However, for a speciﬁed K and initial condition p(z)| z =0 + := p 0 , it can be solved to arbitrary precision using standard numerical ODE solvers. From (13) we have that\ng(z)/G(z) = δ/p(z), \t (35) and thus integrating on both sides from z = 0,\nand from (12), one can then compute f (z) provided π 0 is known. Since\nThus, while there is no closed form solution to the ODE, for a given initial p 0 and parameter K, we can determine both the power transmission policy p(z) as well as the stationary measure π, and thus the average transmission rate (7).\nWe now consider the Shannon rate function r(p) = log(1 + p/σ 2 ) and the case δ = λ = 1, and noise power σ 2 = 1, i.e., energy arrives at an average rate of 1 unit of energy per unit of time. A communication system that transmitted with a constant power that is precisely this average power would obtain a rate of log(1 + 1/1) = 1. For an inﬁnite capacity battery, any rate (1/(1 + )) log(2 + ) can be achieved by a stable policy that transmits with power (1 + ) whenever the battery is not depleted, i.e., for a fraction 1/(1+ ) of the time. Thus any rate strictly less than 1 can be achieved, but at the cost that P [Z(t) > M ] > 0 for all M then.\nFor a system with a ﬁnite battery, this rate cannot be achieved. (The ofﬂine problem with ﬁnite battery has been considered in [10] and a case with no battery in [6].) Table I shows the rate from (7) obtained by numerically solving the ODE for various p 0 with K = 0 and K = −0.6 respectively (the later choice was found to provide good performance). Fig. 1 shows the optimal transmission power and absolutely\ncontinuous part f (z) of the stationary distribution π for L = 4 with K = −0.6. From the table, it is observed that the throughput R achieves at least 88% of that of the inﬁnite battery case when L is only 5, i.e., the penalty is at most 12% in this case. Also, while the achieved throughput appears as it might be non-decreasing with decreasing p 0 (with L = 1 and K = −0.6 a clear exception), it is conjectured that if K is optimized for each choice of p 0 and L then throughput is increasing with increasing L and increasing with decreasing p 0 .\nWe have considered the problem of optimal power trans- mission policy for online energy harvesting with energy ar- rivals that occur at random times and in random amounts. A structural result on the concavity of the problem was shown, and a differential equation was derived that any local optimal solution must satisfy. Future work includes considering dif- ferent energy arrival distributions as well as determining the optimal values of the parameters of the differential equation and therefore, the optimal long term average rate that can be achieved by energy harvesting as a function of the battery capacity L.\nProof: Since i a i r(δ·b i /a i ) = i b i ·a i /b i ·r(δ·b i /a i ), then letting V (p) = pr(δ/p), which is known to be concave from [R5],"},"refs":[{"authors":[{"name":"S. Asmusse"}],"title":{"text":"Applied Probability and Queues"}},{"authors":[{"name":"B. Devillers"},{"name":"D. G¨und¨uz"}],"title":{"text":"A general framework for the optimization of energy harvesting communication systems with battery imperfec- tions"}},{"authors":[{"name":"D. Kivanc"},{"name":"G. Li"},{"name":"H. Liu"}],"title":{"text":"Computationally efﬁcient bandwidth allocation and power control for ofdma"}},{"authors":[{"name":"O. Ozel"},{"name":"K. Tutuncuoglu"},{"name":"J. Yang"},{"name":"S. Ulukus"},{"name":"A. Yener"}],"title":{"text":"Transmis- sion with energy harvesting nodes in fading wireless channels: Optimal policies"}},{"authors":[{"name":"O. Ozel"},{"name":"S. Ulukus"}],"title":{"text":"Information-theoretic analysis of an energy harvesting communication system"}},{"authors":[],"title":{"text":"Awgn channel under time-varying amplitude constraints with causal information at the transmitter"}},{"authors":[{"name":"R. Rajesh"},{"name":"V. Sharma"},{"name":"P. Viswanath"}],"title":{"text":"Capacity of fading gaussian channel with an energy harvesting sensor"}},{"authors":[{"name":"A. Sinha"},{"name":"P. Chaporkar"}],"title":{"text":"Optimal power allocation for a renewable energy source"}},{"authors":[{"name":"K. Tutuncuoglu"},{"name":"A. Yener"}],"title":{"text":"Sum-rate optimal power policies for energy harvesting transmitters in an interference channel"}},{"authors":[],"title":{"text":"Optimum transmission policies for battery limited energy har- vesting nodes"}},{"authors":[{"name":"E. Uysal-Biyikoglu"},{"name":"B. Prabhakar"},{"name":"A. El Gamal"}],"title":{"text":"Energy-efﬁcient packet transmission over a wireless link"}},{"authors":[{"name":"R. Vaze"}],"title":{"text":"Competitive ratio analysis of online algorithms to minimize data transmission time in energy harvesting system"}},{"authors":[{"name":"J. Yang"},{"name":"O. Ozel"},{"name":"S. Ulukus"}],"title":{"text":"Broadcasting with an energy harvest- ing rechargeable transmitter"}},{"authors":[{"name":"J. Yang"},{"name":"S. Ulukus"}],"title":{"text":"Optimal packet scheduling in a multiple access channel with rechargeable nodes"}},{"authors":[],"title":{"text":"Optimal packet scheduling in an energy harvesting communica- tion system"}},{"authors":[{"name":"M. A. Zafer"},{"name":"E. Modiano"}],"title":{"text":"A calculus approach to energy-efﬁcient transmission with quality-of-service constraints"}}]},"file":{"jsonClass":"File","file":"/home/arnfred/Code/trailhead/resources/isit2012/1569565363.pdf"},"links":[],"meta":{"jsonClass":"HashMap$HashTrieMap","sessionid":"S6.T3.3","endtime":"12:30","authors":"Patrick Mitran","date":"1341317400000","papertitle":"On Optimal Online Policies in Energy Harvesting Systems For Compound Poisson Energy Arrivals","starttime":"12:10","session":"S6.T3: Energy Harvesting","room":"Stratton S. de P. Rico (202)","paperid":"1569565363"},"cluster":{"jsonClass":"Map$EmptyMap$"}}
